(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6a64efef"],{"125f":function(t,e,a){},"59ce":function(t,e,a){"use strict";a.d(e,"e",(function(){return n})),a.d(e,"c",(function(){return s})),a.d(e,"a",(function(){return o})),a.d(e,"f",(function(){return l})),a.d(e,"b",(function(){return c})),a.d(e,"d",(function(){return d}));var i=a("365c"),r=a("b775");function n(t){return Object(r["b"])({url:i["a"].Ticket,method:"get",params:t})}function s(t,e){return Object(r["b"])({url:i["a"].Ticket+"".concat(t,"/"),params:e,method:"get"})}function o(t){return Object(r["b"])({url:i["a"].Ticket,method:"post",data:t}).then(i["e"]).catch(i["d"])}function l(t,e){return Object(r["b"])({url:i["a"].Ticket+"".concat(t,"/"),method:"patch",data:e}).then(i["i"]).catch(i["h"])}function c(t,e){return Object(r["b"])({url:i["a"].Ticket+"".concat(t,"/"),method:"delete"}).then(i["g"]).catch(i["f"])}function d(t){return Object(r["b"])({url:i["a"].TicketHistory,method:"get",params:t})}},6991:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form-validate",{ref:"observer",attrs:{form:t.form}},[a("page-header-wrapper",["add"==t.post_type?a("template",{slot:"extra"},[a("a-button",{directives:[{name:"action",rawName:"v-action:add_ticket",arg:"add_ticket"}],attrs:{type:"primary",loading:t.updateing,"html-type":"submit"},on:{click:function(e){return t.book()}}},[t._v("Book")])],1):a("template",{slot:"extra"},[a("a-button",{directives:[{name:"action",rawName:"v-action:change_ticket",arg:"change_ticket"}],attrs:{type:"primary",loading:t.updateing,"html-type":"submit"},on:{click:function(e){return t.book()}}},[t._v("Update")]),4==t.status?a("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.rebook()}}},[t._v("Rebook")]):t._e(),a("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.change()}}},[t._v("Change")]),a("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.cancel()}}},[t._v("Cancel")])],1),a("a-card",{attrs:{bordered:!1,tabList:[{key:"tickets",scopedSlots:{tab:"tab_ticket"}},{key:"messages",scopedSlots:{tab:"tab_message"}}],activeTabKey:t.$route.query.tab},on:{tabChange:t.tabChange}},[a("template",{slot:"tab_ticket"},[a("span",{staticClass:"text-lg"},[t._v("Tickets")])]),a("template",{slot:"tab_message"},[a("a-badge",{attrs:{count:null==t.form.comments?0:t.form.comments.length,offset:[12]}},[a("span",{staticClass:"text-lg"},[t._v("Messages")])])],1),"tickets"===t.tab?a("div",["edit"==t.post_type?a("a-card",{staticClass:"card",attrs:{title:"Progress"}},[a("a-steps",{attrs:{direction:"horizontal",current:t.status,progressDot:""}},[a("a-step",{attrs:{title:t.text_status[0]}}),a("a-step",{attrs:{title:t.text_status[1]}}),a("a-step",{attrs:{title:t.text_status[2]}}),4==t.status?a("a-step",{attrs:{title:t.text_status[4],status:"error"}}):a("a-step",{attrs:{title:t.text_status[3]}}),4!=t.status?a("a-step",{attrs:{title:t.text_status[5]}}):t._e()],1)],1):t._e(),a("a-card",{staticClass:"card",attrs:{title:"Ticket Info"}},[a("a-row",{staticClass:"form-row",attrs:{gutter:16}},[a("a-col",{attrs:{sm:24,md:8}},[a("form-item-validate",{attrs:{label:"Serial No.",vid:"serial_no"}},[a("a-input",{attrs:{disabled:t.disabled()},model:{value:t.form.serial_no,callback:function(e){t.$set(t.form,"serial_no",e)},expression:"form.serial_no"}})],1)],1),a("a-col",{attrs:{sm:24,md:8}},[a("form-item-validate",{attrs:{label:"Line",vid:"air_line"}},[a("a-input",{attrs:{disabled:t.disabled()},model:{value:t.form.air_line,callback:function(e){t.$set(t.form,"air_line",e)},expression:"form.air_line"}})],1)],1),a("a-col",{attrs:{sm:24,md:8}},[a("form-item-validate",{attrs:{label:"Class",vid:"air_class"}},[a("a-input",{attrs:{disabled:t.disabled()},model:{value:t.form.air_class,callback:function(e){t.$set(t.form,"air_class",e)},expression:"form.air_class"}})],1)],1),a("a-col",{attrs:{sm:24,md:8}},[a("form-item-validate",{attrs:{label:"Fare",vid:"fare"}},[a("a-input-number",{staticClass:"w-full",attrs:{disabled:t.disabled(),min:0,precision:2,decimalSeparator:"."},model:{value:t.form.fare,callback:function(e){t.$set(t.form,"fare",e)},expression:"form.fare"}})],1)],1),a("a-col",{attrs:{sm:24,md:8}},[a("form-item-validate",{attrs:{label:"Tax",vid:"tax"}},[a("a-input-number",{staticClass:"w-full",attrs:{disabled:t.disabled(),min:0,precision:2,decimalSeparator:"."},model:{value:t.form.tax,callback:function(e){t.$set(t.form,"tax",e)},expression:"form.tax"}})],1)],1),a("a-col",{attrs:{sm:24,md:8}},[a("form-item-validate",{attrs:{label:"Total",vid:"total"}},[a("a-input-number",{staticClass:"w-full",attrs:{disabled:t.disabled(),min:0,precision:2,decimalSeparator:"."},model:{value:t.form.total,callback:function(e){t.$set(t.form,"total",e)},expression:"form.total"}})],1)],1),a("a-col",{attrs:{sm:24,md:12}},[a("form-item-validate",{attrs:{label:"Info",vid:"air_info"}},[a("a-textarea",{attrs:{disabled:t.disabled(),rows:5},model:{value:t.form.air_info,callback:function(e){t.$set(t.form,"air_info",e)},expression:"form.air_info"}})],1)],1),a("a-col",{attrs:{sm:24,md:12}},[a("form-item-validate",{attrs:{label:"remark",vid:"remark"}},[a("a-textarea",{attrs:{disabled:t.disabled(),rows:5},model:{value:t.form.remark,callback:function(e){t.$set(t.form,"remark",e)},expression:"form.remark"}})],1)],1)],1),"edit"==t.post_type&&t.form.uploads?a("a-upload-dragger",{attrs:{multiple:!0,"before-upload":t.beforeUpload,remove:t.handleRemove,action:"http://thesaadiyat.com/api/uploads/",withCredentials:!0,"default-file-list":t.form.uploads,data:{content_type:"ticket",object_id:t.$route.params.id},disabled:t.disabled()||t.check_status||t.check_lock}},[a("p",{staticClass:"ant-upload-drag-icon"},[a("a-icon",{attrs:{type:"inbox"}})],1),a("p",{staticClass:"ant-upload-text"},[t._v(" Click or drag file to this area to upload ")]),a("p",{staticClass:"ant-upload-hint"},[t._v(" Support for a single or bulk upload ")])]):t._e()],1),a("form-item-validate",{attrs:{vid:"itinerary_id"}},[a("itinerary-related-list",{attrs:{disabled:t.disabled()||"add"!=t.post_type},on:{select:t.onSelectItinerary}})],1),"edit"==t.post_type?a("a-row",[a("a-col",{attrs:{span:12}},[t.$auth("delete_ticket")?a("a-popconfirm",{attrs:{title:"Are you sure delete?",okText:"Yes",cancelText:"No"},on:{confirm:t.onDelete}},[a("a-button",{attrs:{href:"javascript:;",type:"danger"}},[t._v("Delete")])],1):t._e()],1)],1):t._e()],1):"messages"===t.tab?a("message"):t._e()],2)],2)],1)},r=[],n=(a("b0c0"),a("d3b7"),a("ac1f"),a("5319"),a("5530")),s=a("2af9"),o=a("59ce"),l=a("91b6"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-card",{staticClass:"card",attrs:{title:"Related Itineraries"}},[a("a-table",{ref:"table",attrs:{size:"default",rowKey:function(t){return t.id},columns:t.columns,"data-source":t.data,pagination:!1,loading:t.loading,scroll:{x:1200},bordered:""},scopedSlots:t._u([{key:"is_lock",fn:function(t){return[a("a-checkbox",{attrs:{checked:t,disabled:""}})]}}])}),a("a-button",{staticClass:"text-center w-full h-12 mt-4",attrs:{type:"primary",disabled:t.loading||t.disabled},on:{click:function(){t.modal=!0}}},[t._v("Related Itinerary")]),a("a-modal",{attrs:{title:"Change Itinerary",width:"90%"},model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[a("template",{slot:"footer"},[a("a-button",{key:"submit",attrs:{type:"primary"},on:{click:t.handleOk}},[t._v(" Select ")])],1),a("itinerary-table-list",{attrs:{rowSelection:{hideDefaultSelections:!0,type:"radio",selectedRowKeys:t.selectedRowKeys,onChange:t.onSelectChange,getCheckboxProps:function(e){return{props:{disabled:null!=e.ticket&&!t.data.find((function(t){return t.id==e.id}))}}}}},on:{onData:t.onData}})],2)],1)},d=[],u=(a("7db0"),a("d81d"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table-page-search-wrapper"},[a("form-validate",{attrs:{layout:"inline",form:t.queryParam}},[a("a-row",{attrs:{gutter:24}},[a("a-col",{attrs:{md:8,sm:24}},[a("form-item-validate",{attrs:{label:"ID"}},[a("a-input",{on:{pressEnter:function(){return t.$refs.tableList.refresh()}},model:{value:t.queryParam.id,callback:function(e){t.$set(t.queryParam,"id",e)},expression:"queryParam.id"}})],1)],1),a("a-col",{attrs:{md:8,sm:24}},[a("form-item-validate",{attrs:{label:"Booking ID"}},[a("a-input",{on:{pressEnter:function(){return t.$refs.tableList.refresh()}},model:{value:t.queryParam.booking_id,callback:function(e){t.$set(t.queryParam,"booking_id",e)},expression:"queryParam.booking_id"}})],1)],1),a("a-col",{attrs:{md:8,sm:24}},[a("form-item-validate",{attrs:{label:"Create"}},[a("a-range-picker",{on:{change:function(){return t.$refs.tableList.refresh()}},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1),a("a-col",{attrs:{md:24,sm:24}},[a("form-item-validate",[a("a-input-search",{attrs:{placeholder:"E.g Serial No. or Email or Name or Passport","enter-button":"Search"},on:{search:function(){return t.$refs.tableList.refresh()}},model:{value:t.queryParam.search,callback:function(e){t.$set(t.queryParam,"search",e)},expression:"queryParam.search"}})],1)],1)],1)],1),a("s-table",{ref:"tableList",attrs:{size:"default",rowKey:function(t){return t.id},columns:t.columns,data:t.loadData,showPagination:"auto",pageURI:!0,rowSelection:t.rowSelection,bordered:"",scroll:{x:1200}},scopedSlots:t._u([{key:"is_lock",fn:function(t){return[a("a-checkbox",{attrs:{checked:t,disabled:""}})]}},{key:"action",fn:function(e){return null==t.rowSelection?[e.booking_id?a("router-link",{directives:[{name:"action",rawName:"v-action:view_ticket",arg:"view_ticket"}],attrs:{to:{name:"BookingDetail",params:{id:e.booking_id}}}},[a("span",[t._v("Booking")])]):a("span",[t._v("Booking")]),a("a-divider"),e.ticket?a("router-link",{directives:[{name:"action",rawName:"v-action:view_ticket",arg:"view_ticket"}],attrs:{to:{name:"TicketDetail",params:{id:e.ticket.id}}}},[a("span",[t._v("Ticket")])]):a("span",[t._v("Ticket")])]:void 0}}],null,!0)})],1)}),m=[],p=a("9b6f"),f=a("c1df"),h=a.n(f),b={components:{STable:s["d"],FormValidate:s["c"],FormItemValidate:s["b"]},props:{rowSelection:{type:Object,default:null}},methods:{},data:function(){var t=this;return{date:[],queryParam:{name:void 0},columns:[{title:"ID",dataIndex:"id",align:"center",width:"80px"},{title:"Serial No",dataIndex:"serial_no",align:"center",width:"160px",scopedSlots:{customRender:"serial_no"}},{title:"Email",dataIndex:"email",align:"center",width:"180px",ellipsis:!0,scopedSlots:{customRender:"email"}},{title:"Name",dataIndex:"name",align:"center",width:"160px",ellipsis:!0,scopedSlots:{customRender:"name"}},{title:"Passport No",dataIndex:"passport_no",align:"center",width:"160px",ellipsis:!0,scopedSlots:{customRender:"passport_no"}},{title:"Travel Plan",align:"center",children:[{title:"Exit",dataIndex:"exit",align:"center",width:"160px",ellipsis:!0,scopedSlots:{customRender:"exit"}},{title:"Entry",dataIndex:"entry",align:"center",width:"160px",ellipsis:!0,scopedSlots:{customRender:"entry"}}]},{title:"Quotation",align:"center",children:[{title:"Ticket1",dataIndex:"ticket1",align:"center",width:"160px",ellipsis:!0,scopedSlots:{customRender:"ticket1"}},{title:"Ticket2",dataIndex:"ticket2",align:"center",width:"160px",ellipsis:!0,scopedSlots:{customRender:"ticket2"}}]},{title:"Hotel",dataIndex:"hotel",align:"center",ellipsis:!0,width:"160px",scopedSlots:{customRender:"hotel"}},{title:"Remark",dataIndex:"remark",align:"center",ellipsis:!0,width:"160px",scopedSlots:{customRender:"remark"}},{title:"Lock",dataIndex:"is_lock",align:"center",width:"80px",ellipsis:!0,scopedSlots:{customRender:"is_lock"}},{title:"Author",dataIndex:"author",align:"center",ellipsis:!0},{title:"Action",width:"120px",scopedSlots:{customRender:"action"},align:"center"}],loadData:function(e){return Object(p["c"])(Object.assign(e,Object.assign({date_before:null!=t.date&&t.date.length>0?h()(t.date[1]).format("YYYY-MM-DD"):void 0,date_after:null!=t.date&&t.date.length>0?h()(t.date[0]).format("YYYY-MM-DD"):void 0},t.queryParam))).then((function(e){var a=e.result.data;return t.$emit("onData",a.data),a}))}}}},_=b,g=a("2877"),v=Object(g["a"])(_,u,m,!1,null,null,null),k=v.exports,y={components:{ItineraryTableList:k},props:{disabled:{type:Boolean,default:!1}},watch:{data:function(t){this.$emit("select",t),this.selectedRowKeys=t.map((function(t){return t.id}))}},mounted:function(){this.$route.params.id?this.getData():this.data=Object.assign([],this.$route.params.itinerary)},methods:{getData:function(){var t=this;this.loading=!0,Object(p["c"])({ticket_id:this.$route.params.id}).then((function(e){var a=e.result.data;t.data=Object.assign([],a)})).finally((function(){t.loading=!1}))},handleOk:function(){var t=this,e=this.selectedRowKeys.map((function(e){return t.modalData.find((function(t){return t.id===e}))}));this.modal=!1,this.data=Object.assign([],e)},onData:function(t){this.modalData=Object.assign([],t)},onSelectChange:function(t){this.selectedRowKeys=t}},data:function(){return{loading:!1,data:[],modalData:[],selectedRowKeys:[],modal:!1,queryParam:{name:void 0},columns:[{title:"ID",dataIndex:"id",align:"center",width:"80px"},{title:"Serial No",dataIndex:"serial_no",align:"center",width:"160px",scopedSlots:{customRender:"serial_no"}},{title:"Email",dataIndex:"email",align:"center",width:"180px",ellipsis:!0,scopedSlots:{customRender:"email"}},{title:"Name",dataIndex:"name",align:"center",width:"160px",ellipsis:!0,scopedSlots:{customRender:"name"}},{title:"Passport No",dataIndex:"passport_no",align:"center",width:"160px",ellipsis:!0,scopedSlots:{customRender:"passport_no"}},{title:"Travel Plan",align:"center",children:[{title:"Exit",dataIndex:"exit",align:"center",width:"160px",ellipsis:!0,scopedSlots:{customRender:"exit"}},{title:"Entry",dataIndex:"entry",align:"center",width:"160px",ellipsis:!0,scopedSlots:{customRender:"entry"}}]},{title:"Quotation",align:"center",children:[{title:"Ticket1",dataIndex:"ticket1",align:"center",width:"160px",ellipsis:!0,scopedSlots:{customRender:"ticket1"}},{title:"Ticket2",dataIndex:"ticket2",align:"center",width:"160px",ellipsis:!0,scopedSlots:{customRender:"ticket2"}}]},{title:"Hotel",dataIndex:"hotel",align:"center",ellipsis:!0,width:"160px",scopedSlots:{customRender:"hotel"}},{title:"Remark",dataIndex:"remark",align:"center",ellipsis:!0,width:"160px",scopedSlots:{customRender:"remark"}},{title:"Lock",dataIndex:"is_lock",align:"center",width:"80px",ellipsis:!0,scopedSlots:{customRender:"is_lock"}},{title:"Author",dataIndex:"author",align:"center",ellipsis:!0},{title:"Action",width:"120px",scopedSlots:{customRender:"action"},align:"center"}]}}},x=y,w=Object(g["a"])(x,c,d,!1,null,null,null),$=w.exports,S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-list",{staticClass:"comment-list",attrs:{itemLayout:"horizontal",dataSource:t.comments,loading:t.loading},scopedSlots:t._u([{key:"renderItem",fn:function(e){return a("a-list-item",{},[e.user?a("a-comment",{attrs:{author:e.user.name,avatar:e.user.avatar?e.user.avatar.thumbnail:null}},[a("div",{attrs:{slot:"content"},slot:"content"},[a("p",[t._v(t._s(e.content))])]),a("span",{attrs:{slot:"datetime"},slot:"datetime"},[t._v(t._s(e.date))]),a("a",{on:{click:function(a){return t.openModal(e)}}},[t._v("Reply to")]),t._l(e.children,(function(i,r){return a("div",{key:i.id},[i.user?a("a-comment",{attrs:{author:i.user.name,avatar:i.user.avatar?i.user.avatar.thumbnail:null}},[a("div",{attrs:{slot:"content"},slot:"content"},[a("p",{staticClass:"pt-4"},[t._v(t._s(i.content))]),r<e.children.length-1?a("a-divider"):t._e()],1),a("span",{attrs:{slot:"datetime"},slot:"datetime"},[t._v(t._s(i.date))])]):t._e()],1)}))],2):t._e()],1)}}])}),a("a-modal",{attrs:{title:"Reply to"},on:{ok:t.submit},model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[a("validation-observer",{ref:"observer"},[a("validation-provider",{attrs:{name:"non_field_errors"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.errors;return[a("span",{staticClass:"errorText"},[t._v(t._s(i[0]))])]}}])}),a("a-form",{attrs:{form:t.form}},[a("a-form-item",[a("validation-provider",{attrs:{vid:"content"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.errors;return[a("a-input",{model:{value:t.form.content,callback:function(e){t.$set(t.form,"content",e)},expression:"form.content"}}),a("span",{staticClass:"errorText"},[t._v(t._s(i[0]))])]}}])})],1)],1)],1)],1)],1)},I=[],j=a("365c"),C=a("b775");function R(t){return Object(C["b"])({url:j["a"].Comment,method:"get",params:t})}function O(t){return Object(C["b"])({url:j["a"].Comment,method:"post",data:t}).then(j["e"]).catch(j["d"])}var T={data:function(){return{modal:!1,form:{},loading:!1,comments:void 0}},mounted:function(){this.getListData()},methods:{openModal:function(t){this.form={object_id:t.id},this.modal=!0},getListData:function(){var t=this;R({object_id:this.$route.params.id,content_type:"ticket"}).then((function(e){t.comments=e.result.data})).finally((function(){t.loading=!1}))},submit:function(){var t=this;O({object_id:this.form.object_id,content_type:"comment",user_id:this.$store.getters.userInfo.id,content:this.form.content,rating:null}).then((function(e){return t.modal=!1,t.getListData()})).catch((function(e){e.response&&t.$refs.observer.setErrors(e.response.data.result)}))}}},D=T,P=Object(g["a"])(D,S,I,!1,null,null,null),q=P.exports,E=[["New","Booked","Watting Confirm","Confirmed","Refused","Completed"],["New","Changed","Watting Confirm","Confirmed","Refused","Completed"],["New","Canceled","Watting Confirm","Confirmed","Refused","Completed"]],N={components:{FormValidate:s["c"],FormItemValidate:s["b"],ItineraryRelatedList:$,Message:q},props:{post_type:{type:String,default:"edit"}},data:function(){var t=this;return{StatusTexts:E,loading:!1,updateing:!1,disabled:function(){return("add"!=t.post_type||!t.$auth("add_ticket"))&&("edit"!=t.post_type||!t.$auth("change_ticket"))},form:{serial_no:""},itinerary:{}}},mounted:function(){this.$route.params.id&&this.getTicketData()},computed:{tab:function(){return this.$route.query.tab?this.$route.query.tab:"tickets"},check_status:function(){return 3!=this.status&&5!=this.status},check_lock:function(){var t;return null===(t=this.itinerary.is_lock)||void 0===t||t},type_status:function(){return null!=this.$route.params.type_status?this.$route.params.type_status:null!=this.form&&null!=this.form.type_status?this.form.type_status:0},status:function(){var t,e,a;if(null!=this.form.normal_status&&null!=this.form.change_status&&null!=this.form.cancel_status)switch(this.type_status){case 0:return null!==(t=this.form.normal_status)&&void 0!==t?t:0;case 1:return null!==(e=this.form.change_status)&&void 0!==e?e:0;case 2:return null!==(a=this.form.cancel_status)&&void 0!==a?a:0}return 0},text_status:function(){var t;return E[null!==(t=this.type_status)&&void 0!==t?t:0]}},methods:{tabChange:function(t){this.$router.push(Object(n["a"])(Object(n["a"])({},this.$route),{},{name:this.$route.name,query:Object.assign({},this.$route.query,{tab:t})}))},getTicketData:function(){var t=this;this.loading=!0,Object(o["c"])(this.$route.params.id).then((function(e){var a=e.result.data;t.form=Object.assign({},a)})).finally((function(){t.loading=!1}))},submit:function(){var t,e=this;this.updateing=!0;var a=Object.assign({serial_no:this.form.serial_no,air_line:this.form.air_line,air_class:this.form.air_class,fare:this.form.fare,tax:this.form.tax,total:this.form.total,air_info:this.form.air_info,remark:this.form.remark,itinerary_id:null!==(t=this.itinerary.id)&&void 0!==t?t:this.form.itinerary_id,type_status:this.type_status,normal_status:0==this.type_status?"edit"==this.post_type?this.form.normal_status:2:0,change_status:1==this.type_status?"edit"==this.post_type?this.form.change_status:2:0,cancel_status:2==this.type_status?"edit"==this.post_type?this.form.cancel_status:2:0,parent:this.$route.params.parent_id});"edit"==this.post_type?Object(o["f"])(this.$route.params.id,a).then((function(t){var a=t.result,i=(a.data,a.extra);e.extra=i})).catch((function(t){t.response&&e.$refs.observer.setErrors(t)})).finally((function(){e.updateing=!1})):"add"==this.post_type&&Object(o["a"])(a).then((function(t){e.$router.replace({name:"TicketDetail",params:{id:t.result.data.id}})})).catch((function(t){t.response&&e.$refs.observer.setErrors(t)})).finally((function(){e.updateing=!1}))},onDelete:function(){var t=this;this.updateing=!0,Object(o["b"])(this.$route.params.id).then((function(){t.$router.go(-1)})).finally((function(){t.updateing=!1}))},onSelectItinerary:function(t){null!=t&&t.length>0&&(this.itinerary=t[0],this.form.serial_no=t[0].serial_no)},beforeUpload:function(t){var e=t.size/1024/1024<2;return e||this.$message.error("Image must smaller than 2MB!"),e},handleRemove:function(t){null!=t&&null!=t.id&&Object(l["a"])(t.id)},book:function(){this.submit()},rebook:function(){var t;this.$router.push({name:"AddTicket",params:Object.assign({},this.$route.params,{type_status:this.type_status,parent_id:null!==(t=this.form.parent_id)&&void 0!==t?t:this.form.id})})},change:function(){var t;this.$router.push({name:"AddTicket",params:Object.assign({},this.$route.params,{type_status:1,parent_id:null!==(t=this.form.parent_id)&&void 0!==t?t:this.form.id})})},cancel:function(){var t;this.$router.push({name:"AddTicket",params:Object.assign({},this.$route.params,{type_status:2,parent_id:null!==(t=this.form.parent_id)&&void 0!==t?t:this.form.id})})}}},L=N,K=(a("c24f2"),Object(g["a"])(L,i,r,!1,null,"3207a890",null));e["a"]=K.exports},"91b6":function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));var i=a("365c"),r=a("b775");function n(t){return Object(r["b"])({url:i["a"].Upload+"".concat(t,"/"),method:"delete"}).then(i["g"]).catch(i["f"])}},"9b6f":function(t,e,a){"use strict";a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return s})),a.d(e,"d",(function(){return o})),a.d(e,"b",(function(){return l}));var i=a("365c"),r=a("b775");function n(t){return Object(r["b"])({url:i["a"].Itinerary,method:"get",params:t})}function s(t){return Object(r["b"])({url:i["a"].Itinerary,method:"post",data:t}).then(i["e"]).catch(i["d"])}function o(t,e){return Object(r["b"])({url:i["a"].Itinerary+"".concat(t,"/"),method:"patch",data:e}).then(i["i"]).catch(i["h"])}function l(t,e){return Object(r["b"])({url:i["a"].Itinerary+"".concat(t,"/"),method:"delete"}).then(i["g"]).catch(i["f"])}},c24f2:function(t,e,a){"use strict";var i=a("125f"),r=a.n(i);r.a}}]);