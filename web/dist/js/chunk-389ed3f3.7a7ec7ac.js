(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-389ed3f3"],{"0e8f":function(t,e,a){"use strict";a.d(e,"d",(function(){return i})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return c})),a.d(e,"e",(function(){return s})),a.d(e,"b",(function(){return u}));var n=a("365c"),r=a("b775");function i(t){return Object(r["b"])({url:n["a"].Department,method:"get",params:t})}function o(t){return Object(r["b"])({url:n["a"].Department+"".concat(t,"/"),method:"get"})}function c(t){return Object(r["b"])({url:n["a"].Department,method:"post",data:t}).then(n["e"]).catch(n["d"])}function s(t,e){return Object(r["b"])({url:n["a"].Department+"".concat(t,"/"),method:"patch",data:e}).then(n["i"]).catch(n["h"])}function u(t,e){return Object(r["b"])({url:n["a"].Department+"".concat(t,"/"),method:"delete"}).then(n["g"]).catch(n["f"])}},"1b0e":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("index",{attrs:{post_type:"edit"}})},r=[],i=a("d8c0"),o={components:{Index:i["a"]}},c=o,s=a("2877"),u=Object(s["a"])(c,n,r,!1,null,null,null);e["default"]=u.exports},"60d7":function(t,e,a){"use strict";var n=a("8227"),r=a.n(n);r.a},8227:function(t,e,a){},d8c0:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form-validate",{ref:"observer"},[a("page-header-wrapper",[a("a-card",{staticClass:"card",attrs:{title:"Base Information",bordered:!1}},[a("form-item-validate",{attrs:{label:"Name",vid:"name",required:""}},[a("a-input",{attrs:{disabled:t.disabled()},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)],1)],1),"edit"==t.post_type?a("a-row",[a("a-col",{attrs:{span:12}},[t.$auth("delete_department")?a("a-popconfirm",{attrs:{title:"Are you sure delete?",okText:"Yes",cancelText:"No"},on:{confirm:t.onDelete}},[a("a-button",{attrs:{href:"javascript:;",type:"danger"}},[t._v("Delete")])],1):t._e()],1),a("a-col",{staticClass:"text-right",attrs:{span:12}},[a("a-button",{directives:[{name:"action",rawName:"v-action:change_department",arg:"change_department"}],attrs:{type:"primary",loading:t.updateing,"html-type":"submit"},on:{click:t.submit}},[t._v(" Submit ")])],1)],1):t._e(),"add"==t.post_type?a("a-row",[a("a-col",{staticClass:"text-right",attrs:{span:24}},[a("a-button",{directives:[{name:"action",rawName:"v-action:add_department",arg:"add_department"}],attrs:{type:"primary",loading:t.updateing,"html-type":"submit"},on:{click:t.submit}},[t._v(" Submit ")])],1)],1):t._e()],1)},r=[],i=(a("d3b7"),a("ac1f"),a("5319"),a("2af9")),o=a("0e8f"),c={components:{FormValidate:i["c"],FormItemValidate:i["b"]},props:{post_type:{type:String,default:"edit"}},data:function(){var t=this;return{loading:!1,updateing:!1,disabled:function(){return("add"!=t.post_type||!t.$auth("add_department"))&&("edit"!=t.post_type||!t.$auth("change_department"))},form:{}}},mounted:function(){"edit"==this.post_type&&this.getDepartmentData()},methods:{getDepartmentData:function(){var t=this;this.loading=!0,Object(o["c"])(this.$route.params.id).then((function(e){var a=e.result;t.form=Object.assign({},a)})).finally((function(){t.loading=!1}))},submit:function(){var t=this;this.updateing=!0;var e=Object.assign({},this.form,{});"edit"==this.post_type?Object(o["e"])(this.$route.params.id,e).then((function(t){t.result})).catch((function(e){e.response&&t.$refs.observer.setErrors(e)})).finally((function(){t.updateing=!1})):"add"==this.post_type&&Object(o["a"])(e).then((function(e){t.$router.replace({name:"DepartmentDetail",params:{id:e.result.id}})})).catch((function(e){e.response&&t.$refs.observer.setErrors(e)})).finally((function(){t.updateing=!1}))},onDelete:function(){var t=this;this.updateing=!0,Object(o["b"])(this.$route.params.id).then((function(){t.$router.go(-1)})).finally((function(){t.updateing=!1}))}}},s=c,u=(a("60d7"),a("2877")),d=Object(u["a"])(s,n,r,!1,null,"011adbc0",null);e["a"]=d.exports}}]);